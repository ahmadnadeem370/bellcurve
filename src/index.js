import React from "react";
import ReactDOM from "react-dom";
import ReactHighCharts from "react-highcharts";
import bellcurve from "highcharts/modules/histogram-bellcurve";

bellcurve(ReactHighCharts.Highcharts);

const data = [
  122,
  123,
  125,
  121,
  122,
  119,
  124,
  119,
  119,
  119,
  123,
  118,
  117,
  125,
  128,
  120,
  126,
  118,
  119,
  122,
  123,
  120,
  121,
  118,
  125,
  121,
  119,
  119,
  117,
  121,
  125,
  116,
  124,
  124,
  127,
  116,
  122,
  117,
  120,
  118,
  122,
  115,
  118,
  119,
  121,
  119,
  118,
  123,
  120,
  118,
  116,
  118,
  118,
  120,
  119,
  123,
  116,
  118,
  124,
  121,
  122,
  117,
  124,
  118,
  118,
  111,
  122,
  119,
  116,
  122,
  120,
  119,
  119,
  120,
  120,
  117,
  118,
  121,
  121,
  120,
  117,
  120,
  121,
  117,
  120,
  119,
  123,
  121,
  122,
  116,
  118,
  127,
  120,
  122,
  122,
  118,
  118,
  124,
  121,
  120,
  122,
  122,
  120,
  118,
  119,
  123,
  124,
  122,
  118,
  114,
  119,
  122,
  121,
  120,
  122,
  120,
  122,
  120,
  117,
  116,
  122,
  116,
  117,
  119,
  122,
  123,
  118,
  122,
  118,
  120,
  118,
  122,
  120,
  119,
  124,
  117,
  120,
  120,
  117,
  120,
  120,
  123,
  124,
  113,
  121,
  124,
  113,
  117,
  118,
  119,
  117,
  122,
  121,
  119,
  124,
  119,
  122,
  122,
  114,
  125,
  118,
  122,
  119,
  125,
  124,
  119,
  123,
  119,
  122,
  116,
  124,
  125,
  121,
  116,
  125,
  121,
  118,
  118,
  116,
  117,
  119,
  121,
  121,
  120,
  116,
  118,
  118,
  115,
  120,
  126,
  119,
  116,
  123,
  120,
  119,
  124,
  122,
  122,
  123,
  121,
  119,
  126,
  124,
  121,
  120,
  118,
  123,
  119,
  120,
  120,
  120,
  125,
  119,
  117,
  119,
  121,
  122,
  120,
  120,
  122,
  120,
  125,
  120,
  122,
  116,
  121,
  121,
  120,
  121,
  123,
  120,
  117,
  118,
  122,
  122,
  123,
  120,
  117,
  127,
  123,
  122,
  122,
  118,
  118,
  122,
  118,
  128,
  119,
  118,
  116,
  120,
  119,
  118,
  116,
  119,
  123,
  125,
  122,
  124,
  121,
  123,
  124,
  121,
  120,
  125,
  120,
  121,
  118,
  119,
  124,
  120,
  119,
  121,
  117,
  122,
  124,
  117,
  117,
  118,
  118,
  119,
  123,
  123,
  117,
  116,
  117,
  120,
  121,
  123,
  118,
  120,
  119,
  123,
  120,
  121,
  124,
  122,
  123,
  120,
  117,
  126,
  116,
  121,
  124,
  122,
  120,
  117,
  116,
  123,
  121,
  120,
  120,
  118,
  119,
  120,
  119,
  118,
  122,
  117,
  115,
  122,
  121,
  121,
  124,
  120,
  125,
  123,
  122,
  120,
  119,
  120,
  121,
  123,
  122,
  123,
  121,
  119,
  120,
  123,
  116,
  119,
  116,
  116,
  120,
  118,
  123,
  125,
  120,
  115,
  118,
  121,
  124,
  121,
  124,
  122,
  123,
  122,
  117,
  116,
  119,
  120,
  124,
  121,
  123,
  121,
  119,
  116,
  119,
  117,
  123,
  116,
  118,
  123,
  122,
  122,
  123,
  123,
  119,
  122,
  119,
  119,
  119,
  124,
  123,
  118,
  122,
  120,
  119,
  119,
  122,
  119,
  119,
  119,
  123,
  121,
  121,
  117,
  120,
  120,
  120,
  118,
  119,
  117,
  114,
  123,
  117,
  114,
  120,
  117,
  120,
  120,
  118,
  117,
  122,
  125,
  122,
  118,
  114,
  113,
  117,
  124,
  121,
  120,
  119,
  122,
  125,
  119,
  121,
  118,
  122,
  118,
  122,
  122,
  123,
  123,
  119,
  119,
  119,
  117,
  120,
  124,
  117,
  123,
  114,
  123,
  120,
  114,
  124,
  118,
  114,
  118,
  123,
  118,
  117,
  129,
  122,
  117,
  121,
  122,
  118,
  119,
  121,
  123,
  123,
  121,
  113,
  123,
  119,
  121,
  114,
  121,
  115,
  121,
  117,
  120,
  120,
  119,
  116,
  124,
  124,
  123,
  119,
  118,
  123,
  114,
  117,
  123,
  121,
  123,
  121,
  121,
  126,
  119,
  122,
  116,
  117,
  122,
  123,
  124,
  117,
  119,
  118,
  118,
  124,
  120,
  115,
  120,
  117,
  120,
  119,
  121,
  126,
  119,
  122,
  118,
  123,
  117,
  121,
  118,
  115,
  117,
  120,
  120,
  118,
  120,
  118,
  116,
  124,
  122,
  118,
  121,
  125,
  117,
  122,
  121,
  118,
  123,
  111,
  117,
  119,
  119,
  115,
  117,
  118,
  121,
  116,
  113,
  119,
  118,
  122,
  123,
  123,
  119,
  123,
  117,
  117,
  119,
  118,
  124,
  122,
  125,
  117,
  122,
  122,
  118,
  124,
  125,
  121,
  119,
  122,
  118,
  121,
  119,
  129,
  117,
  120,
  122,
  125,
  123,
  120,
  120,
  120,
  117,
  118,
  115,
  124,
  115,
  126,
  116,
  117,
  120,
  118,
  118,
  121,
  116,
  120,
  116,
  117,
  113,
  123,
  119,
  117,
  122,
  120,
  121,
  120,
  125,
  119,
  120,
  121,
  119,
  118,
  121,
  125,
  119,
  116,
  123,
  122,
  112,
  121,
  120,
  125,
  118,
  114,
  124,
  118,
  120,
  123,
  117,
  123,
  114,
  119,
  115,
  119,
  121,
  117,
  119,
  120,
  120,
  114,
  120,
  119,
  120,
  122,
  120,
  123,
  118,
  123,
  119,
  117,
  117,
  123,
  121,
  119,
  121,
  121,
  121,
  119,
  119,
  121,
  121,
  123,
  122,
  119,
  117,
  118,
  116,
  122,
  115,
  119,
  120,
  119,
  117,
  118,
  120,
  124,
  125,
  121,
  126,
  122,
  122,
  119,
  118,
  121,
  115,
  126,
  126,
  119,
  116,
  118,
  116,
  119,
  123,
  119,
  121,
  122,
  129,
  120,
  125,
  115,
  120,
  120,
  126,
  119,
  120,
  124,
  121,
  123,
  120,
  120,
  118,
  114,
  120,
  116,
  122,
  123,
  120,
  116,
  125,
  117,
  119,
  122,
  125,
  114,
  123,
  120,
  120,
  117,
  120,
  114,
  121,
  119,
  123,
  118,
  119,
  113,
  118,
  119,
  115,
  123,
  122,
  121,
  120,
  127,
  121,
  123,
  117,
  125,
  122,
  123,
  119,
  120,
  118,
  120,
  120,
  119,
  116,
  121,
  121,
  119,
  121,
  121,
  117,
  118,
  119,
  124,
  120,
  120,
  124,
  121,
  121,
  117,
  120,
  127,
  121,
  117,
  122,
  118,
  121,
  113,
  123,
  120,
  120,
  118,
  121,
  120,
  120,
  119,
  123,
  122,
  124,
  119,
  116,
  121,
  123,
  119,
  124,
  121,
  115,
  114,
  119,
  124,
  123,
  123,
  122,
  118,
  119,
  117,
  120,
  118,
  119,
  119,
  118,
  117,
  117,
  117,
  113,
  121,
  123,
  125,
  116,
  121,
  120,
  123,
  123,
  124,
  120,
  119,
  115,
  125,
  119,
  120,
  112,
  122,
  122,
  113,
  120,
  119,
  114,
  120,
  121,
  114,
  121,
  119,
  122,
  125,
  119,
  119,
  117,
  114,
  121,
  118,
  122,
  118,
  119,
  118,
  116,
  117,
  118,
  114,
  117,
  124,
  117,
  124,
  115,
  124,
  120,
  119,
  117,
  119,
  116,
  115,
  116,
  120,
  121,
  120,
  122,
  121,
  122,
  122,
  117,
  117,
  115,
  125,
  122,
  118,
  122,
  122,
  122,
  123,
  121,
  119,
  116,
  121,
  128,
  120,
  119,
  120,
  122,
  122,
  119,
  118,
  121,
  116,
  117,
  122,
  121,
  119,
  119,
  124,
  118,
  118,
  114,
  120,
  121,
  124,
  123,
  118,
  119,
  120,
  117,
  121,
  119,
  117,
  123,
  121,
  120,
  118,
  122,
  122,
  118,
  124,
  119,
  118,
  115,
  121,
  123,
  121,
  116,
  115,
  114,
  119,
  121,
  118,
  119,
  123,
  115,
  122,
  118,
  112,
  119,
  123,
  125,
  120,
  120,
  114,
  118,
  120,
  118,
  119,
  120,
  118,
  123,
  120,
  119,
  115,
  122,
  117,
  122,
  122,
  122,
  120,
  121,
  120,
  115,
  120,
  116,
  121,
  121,
  118,
  121,
  117,
  117,
  121,
  117,
  120,
  124,
  126,
  119,
  118,
  116,
  119,
  115,
  122,
  120,
  122,
  124,
  118,
  119,
  123
];

var User_IQ = 119.5;

const newarr = data.filter((value) => value < User_IQ);

class BellCurve extends React.Component {
  constructor(props) {
    super(props);

    this.state = {
      config: {
        title: {
          text: "Result: your IQ is " + User_IQ
        },

        legend: {
          enabled: false
        },

        xAxis: [
          {
            title: {
              text: "Data"
            },
            alignTicks: false,
            visible: false
          },
          {
            title: {
              text:
                "<h1>Your IQ is in the top " +
                (100 * newarr.length) / data.length +
                "% <br> In a room of 1000 people you would be smarter than " +
                (1000 * newarr.length) / data.length +
                " of them </h1>"
            },
            alignTicks: false,
            opposite: false
          }
        ],

        yAxis: [
          {
            title: { text: "Data" },
            visible: false
          },
          {
            title: { text: "Bell curve" },
            opposite: false,
            visible: false
          }
        ],

        annotations: [
          {
            labels: [
              {
                point: "max",
                text: "Max"
              },
              {
                point: "min",
                text: "Min",
                backgroundColor: "black"
              }
            ]
          }
        ],

        series: [
          {
            name: "Bell curve",
            type: "bellcurve",
            xAxis: 1,
            yAxis: 1,
            baseSeries: 1,
            zIndex: -1,

            zoneAxis: "x",
            zones: [
              {
                value: User_IQ,
                color: "rgb(255, 0, 0, 0.25)"
              },
              {
                color: "rgb(0, 0, 0, 0.25)"
              }
            ]
          },

          {
            name: "Data",
            type: "scatter",
            data: data,
            visible: false,
            accessibility: {
              exposeAsGroupOnly: true
            },
            marker: {
              radius: 1.5
            }
          }
        ]
      }
    };
  }

  render() {
    return <ReactHighCharts config={this.state.config} />;
  }
}
const rootElement = document.getElementById("root");
ReactDOM.render(<BellCurve />, rootElement);
//https://stackoverflow.com/questions/60133284/how-to-use-react-highcharts-to-plot-bell-curve/60135935#60135935
